#
#足回り
#
base: {
  model: {
    mode: 1,
    width: 0.75,
    height: 0.7,
    wheel_radius: 0.08,
    freq: 50,
    acc: 10.5,
    max_lin_vel: 6.0
    #LPF_const_go: 0.3,
    #LPF_const_stop: 0.70
  },

  velPID: {
    kp: [ 200.0, 200.0, 200.0, 200.0 ],
    ki: [ 20.0, 20.0, 20.0, 20.0 ],
    kd: [ 0.2, 0.2, 0.2, 0.2 ],
    tdel: [0.028, 0.028, 0.028, 0.028 ]
  },

  motor_driver: {
    # 6, 7, 4,5(左前、左後、右後、右前)
    addrs: [ 0x17, 0x15, 0x24, 0x14 ]
  },

  gyro: {
    kp: 0.0,
    ki: 0.0
  }

}

speed: {
  xy: 6.0,
  w: 4.0,
}


#
#機構
#

common: { #各機構共通部分
  freq: 100, #ノードの周波数[Hz]
  sol_high_time: 200 #電磁弁をHIGHにする時間[ms]（あまり長いと電力食う）
}

air: { #エア射出について
  launch_time: 1000, #射出時ロッドを伸ばす時間[ms]
  hl: 2, #電磁弁のH-L切り替え(1 or 2)
  lh: 1  #電磁弁のH-L切り替え(1 or 2) 
}

const: { #コンスト射出について
  target_rot_1: 0.7, #装填位置（ロックオンからモータ何回転分か）[回転]
  target_rot_2: 1.65, #中距離射出位置（ロックオンからモータ何回転分か）[回転]
  target_rot_3: 2.0, #長距離射出位置（ロックオンからモータ何回転分か）[回転]
  mot_pow_up: -200, #ロック機構上昇パワー[0-255]
  mot_pow_down: 200, #ロック機構下降パワー[0-255]
  sol_high_time: 100, #ソレノイドをHIGHにする時間[ms]
  sol_low_time: 100, #ソレノイドをLOWにする時間[ms]
  sol_wait_time: 200, #ソレノイドをHIGHにしてから，上昇し始めるまでの待機時間[ms]
  sol_low: 0, #ソレノイドのH-L切り替え(0 or 1)
  sol_high: 1, #ソレノイドのH-L切り替え(0 or 1)
  touch_lock_on: 1, #タッチセンサのH-L切り替え(0 or 1)
  touch_lock_off: 0 #タッチセンサのH-L切り替え(0 or 1)
}

rack: { #ラック回収機構について
  air_r: { #エア射出のラック回収（矢が飛ぶ方向を正面に右）
    deg_ini1: 160, #初期位置（根本）
    deg_ini2: 150, #初期位置（手先）
    deg_pick1: 160, #pick位置（根本）
    deg_pick2: 129, #pick位置（手先）
    deg_up1: 30, #up位置（根本）
    deg_up2: 125, #up位置（手先）
    deg_load1_1: 60, #load位置1（根本）
    deg_load1_2: 125, #load位置1（手先）
    deg_load2_1: 60, #load位置2（根本）
    deg_load2_2: 55, #load位置2（手先）
    hl: 1, #電磁弁のH-L切り替え(1 or 2)
    lh: 2  #電磁弁のH-L切り替え(1 or 2)
  },
  air_l: { #エア射出のラック回収（矢が飛ぶ方向を正面に左）
    deg_ini1: 5,
    deg_ini2: 130,
    deg_pick1: 5,
    deg_pick2: 105,
    deg_up1: 140, 
    deg_up2: 110,
    deg_load1_1: 105,
    deg_load1_2: 110,
    deg_load2_1: 105,
    deg_load2_2: 42,
    hl: 2,
    lh: 1
  },
  const: { #コンスト射出のラック回収
    deg_ini1: 170,
    deg_ini2: 100,
    deg_pick1: 170,
    deg_pick2: 120,
    deg_up1: 50, 
    deg_up2: 110,
    deg_load1_1: 75,
    deg_load1_2: 125,
    deg_load2_1: 75,
    deg_load2_2: 155,
    hl: 1,
    lh: 2
  },
  delay_time: 500, #矢を掴んで少し上げる時やload1からload2に行くまでの待機時間[ms]
  pick_up_deg: -5 # 矢を掴んでから少し持ち上げる角度[サーボstep]
}

arduino: { #arduinoに関して
  addres: 0x15, #コンスト射出のMDのアドレス
  resolution: 2046 #コンスト射出のエンコーダの分解能
}



#
#もう使わない
#
#rack_col: {
#  const: {
#    deg_ini1: 40,
#    deg_ini2: 120,
#    deg_pick1: 40,
#    deg_pick2: 110,
#    deg_pick2_1: 180,
#    deg_pick2_2: 135,
#    deg_load1: 165,
#    deg_load2: 115,
#    deg_up1: 145,
#    deg_up2: 115,
#    deg_up2_1: 145,
#    deg_up2_2: 70  },
#
#  air: {
#    deg_ini1: 150,
#    deg_ini2: 140,
#    deg_pick1: 155,
#    deg_pick2: 110,
#    deg_pick2_1: 50,
#    deg_pick2_2: 115,
#    deg_load1: 30,
#    deg_load2: 125,
#    deg_up1: 60, 
#    deg_up2: 125,
#    deg_up2_1: 60,
#    deg_up2_2: 60, 
#  },
#  time_delay: 500,
#
#  pick_up: -5
#}
#
#const: {
#
#
#  dist: 0.55,
#  dist2: 1.65,
#  dist3: 2.0
#}
#
#air: {
#  power: 230, #speed when adjust manually
#  position3: 550,
#  position4: 4250,
#  pos3_range: 50,
#  pos4_range: 50,
#  delay_hassya: 2000, 
#  speed: -230
#}
